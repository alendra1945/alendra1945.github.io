import{P as p,Q as A,R as E,C as m,v as f,r as w,T as y,U as P,V as l}from"./index-Cafb-DjT.js";const F=n=>n(),d=(n,a,i=p.duration)=>new Proxy({animations:n.map(F).filter(Boolean),duration:i,options:a},R),O=n=>n.animations[0],R={get:(n,a)=>{const i=O(n);switch(a){case"duration":return n.duration;case"currentTime":return m.s((i==null?void 0:i[a])||0);case"playbackRate":case"playState":return i==null?void 0:i[a];case"finished":return n.finished||(n.finished=Promise.all(n.animations.map(T)).catch(E)),n.finished;case"stop":return()=>{n.animations.forEach(t=>A(t))};case"forEachNative":return t=>{n.animations.forEach(o=>t(o,n))};default:return typeof(i==null?void 0:i[a])>"u"?void 0:()=>n.animations.forEach(t=>t[a]())}},set:(n,a,i)=>{switch(a){case"currentTime":i=m.ms(i);case"playbackRate":for(let t=0;t<n.animations.length;t++)n.animations[t][a]=i;return!0}return!1}},T=n=>n.finished;function b(n,a,i){return f(n)?n(a,i):n}function x(n){return function(i,t,o={}){i=w(i);const c=i.length,u=[];for(let e=0;e<c;e++){const h=i[e];for(const s in t){const r=y(o,s);r.delay=b(r.delay,e,c);const v=P(h,s,t[s],r,n);u.push(v)}}return d(u,o,o.duration)}}const C=x(l);function S(n,a={}){return d([()=>{const i=new l(n,[0,1],a);return i.finished.catch(()=>{}),i}],a,a.duration)}function N(n,a,i){return(f(n)?S:C)(n,a,i)}export{N as a};
