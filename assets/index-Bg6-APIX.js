import{k as c,c as s,i as u,S as h,ai as x,aj as C,a as D,j as $,t as v}from"./index-CONonrmZ.js";import{L as d,j as k}from"./index-Dn2xiQBh.js";import{B as g}from"./button-BfLWysEP.js";import{u as M}from"./use-selection-bouds-BHR1_qGU.js";import{u as P}from"./pdf-annotate-try-BTtqCgpK.js";import{D as f,a as S,b as w,c as T}from"./dropdown-menu-BplncWFo.js";import"./container-BgQ3KiCg.js";import"./animate.es-B7hhCyxK.js";import"./velocity.es-CI47LKMS.js";import"./_commonjsHelpers-C4iS2aBk.js";import"./index-CfooAA2k.js";import"./use-local-storage-BteJbqdo.js";import"./T4C3DMHT-DzaLNui5.js";import"./index-DrStG47M.js";import"./index-BA8OFV39.js";var j=v("<span class=text-sm>Delete"),z=v('<div class="flex absolute justify-center select-none"><div class="bg-white px-3 py-1 rounded-lg drop-shadow-md flex gap-3 justify-center items-center">');const V=I=>{const[r,{setLayerState:n}]=P(),l=c(()=>M(),r.layersState.selectionLayerIds.length),L=c(()=>r.layersState.selectionLayerIds.some(e=>[d.Comment,d.Sticker].includes(r.layersState.layers[e].type)),r.layersState.selectionLayerIds.length),b=()=>{r.layersState.selectionLayerIds.forEach(e=>{const o=r.layersState.layerIds.filter(t=>t!==e);n(["layerIds"],o),n(["layers"],o.reduce((t,a)=>({...t,[a]:r.layersState.layers[a]}),{})),n(["selectionLayerIds"],[])})};return c(()=>r.layersState.selectionLayerIds.length==1&&r.layersState.selectionLayerIds.some(e=>r.layersState.layers[e].type===d.Text),r.layersState.selectionLayerIds.length),s(h,{get when(){return l()},get children(){var e=z(),o=e.firstChild;return e.$$click=t=>{t.stopPropagation(),t.preventDefault()},u(o,s(h,{get when(){return!L()},get children(){return s(f,{placement:"top",get children(){return[s(S,{as:g,class:"!size-6 !p-0",size:"icon",get style(){return{background:k({...I.lastUsedColor,a:1})}}}),s(w,{class:"mb-2 border border-gray-200 shadow-none"})]}})}}),null),u(o,s(f,{placement:"right-start",get children(){return[s(S,{as:g,variant:"buttonToolbar",size:"icon",onClick:()=>{},class:"p-0 size-8",get children(){return s(x,{class:"h-5 w-5"})}}),s(w,{class:"w-40 ml-3 border-none",get children(){return s(T,{onClick:b,get children(){return[s(C,{class:"w-4 h-5 mr-2"}),j()]}})}})]}}),null),D(t=>{var y,m,p;var a=`${(y=l())==null?void 0:y.width}px`,i=`translate(calc(${(m=l())==null?void 0:m.x}px), calc(${((p=l())==null?void 0:p.y)-16}px - 100%))`;return a!==t.e&&((t.e=a)!=null?e.style.setProperty("width",a):e.style.removeProperty("width")),i!==t.t&&((t.t=i)!=null?e.style.setProperty("transform",i):e.style.removeProperty("transform")),t},{e:void 0,t:void 0}),e}})};$(["click"]);export{V as default};
