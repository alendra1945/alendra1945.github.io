import{a4 as x,a5 as L,a6 as F,L as H,f as R,m as V,g as bt,e as it,c as ot,D as wt,k as y,a7 as Nt,a8 as mt,l as v,a9 as pt}from"./index-Cafb-DjT.js";const W=Symbol("store-raw"),P=Symbol("store-node"),p=Symbol("store-has"),rt=Symbol("store-self");function st(t){let e=t[x];if(!e&&(Object.defineProperty(t,x,{value:e=new Proxy(t,At)}),!Array.isArray(t))){const n=Object.keys(t),i=Object.getOwnPropertyDescriptors(t);for(let o=0,r=n.length;o<r;o++){const s=n[o];i[s].get&&Object.defineProperty(t,s,{enumerable:i[s].enumerable,get:i[s].get.bind(e)})}}return e}function A(t){let e;return t!=null&&typeof t=="object"&&(t[x]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function S(t,e=new Set){let n,i,o,r;if(n=t!=null&&t[W])return n;if(!A(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let s=0,f=t.length;s<f;s++)o=t[s],(i=S(o,e))!==o&&(t[s]=i)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const s=Object.keys(t),f=Object.getOwnPropertyDescriptors(t);for(let c=0,a=s.length;c<a;c++)r=s[c],!f[r].get&&(o=t[r],(i=S(o,e))!==o&&(t[r]=i))}return t}function j(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function _(t,e,n){if(t[e])return t[e];const[i,o]=R(n,{equals:!1,internal:!0});return i.$=o,t[e]=i}function yt(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===x||e===P||(delete n.value,delete n.writable,n.get=()=>t[x][e]),n}function ct(t){F()&&_(j(t,P),rt)()}function xt(t){return ct(t),Reflect.ownKeys(t)}const At={get(t,e,n){if(e===W)return t;if(e===x)return n;if(e===L)return ct(t),n;const i=j(t,P),o=i[e];let r=o?o():t[e];if(e===P||e===p||e==="__proto__")return r;if(!o){const s=Object.getOwnPropertyDescriptor(t,e);F()&&(typeof r!="function"||t.hasOwnProperty(e))&&!(s&&s.get)&&(r=_(i,e,r)())}return A(r)?st(r):r},has(t,e){return e===W||e===x||e===L||e===P||e===p||e==="__proto__"?!0:(F()&&_(j(t,p),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:xt,getOwnPropertyDescriptor:yt};function w(t,e,n,i=!1){if(!i&&t[e]===n)return;const o=t[e],r=t.length;n===void 0?(delete t[e],t[p]&&t[p][e]&&o!==void 0&&t[p][e].$()):(t[e]=n,t[p]&&t[p][e]&&o===void 0&&t[p][e].$());let s=j(t,P),f;if((f=_(s,e,o))&&f.$(()=>n),Array.isArray(t)&&t.length!==r){for(let c=t.length;c<r;c++)(f=s[c])&&f.$();(f=_(s,"length",r))&&f.$(t.length)}(f=s[rt])&&f.$()}function lt(t,e){const n=Object.keys(e);for(let i=0;i<n.length;i+=1){const o=n[i];w(t,o,e[o])}}function St(t,e){if(typeof e=="function"&&(e=e(t)),e=S(e),Array.isArray(e)){if(t===e)return;let n=0,i=e.length;for(;n<i;n++){const o=e[n];t[n]!==o&&w(t,n,o)}w(t,"length",i)}else lt(t,e)}function O(t,e,n=[]){let i,o=t;if(e.length>1){i=e.shift();const s=typeof i,f=Array.isArray(t);if(Array.isArray(i)){for(let c=0;c<i.length;c++)O(t,[i[c]].concat(e),n);return}else if(f&&s==="function"){for(let c=0;c<t.length;c++)i(t[c],c)&&O(t,[c].concat(e),n);return}else if(f&&s==="object"){const{from:c=0,to:a=t.length-1,by:l=1}=i;for(let u=c;u<=a;u+=l)O(t,[u].concat(e),n);return}else if(e.length>1){O(t[i],e,[i].concat(n));return}o=t[i],n=[i].concat(n)}let r=e[0];typeof r=="function"&&(r=r(o,n),r===o)||i===void 0&&r==null||(r=S(r),i===void 0||A(o)&&A(r)&&!Array.isArray(r)?lt(o,r):w(t,i,r))}function ue(...[t,e]){const n=S(t||{}),i=Array.isArray(n),o=st(n);function r(...s){H(()=>{i&&s.length===1?St(n,s[0]):O(n,s)})}return[o,r]}const $=Symbol("store-root");function E(t,e,n,i,o){const r=e[n];if(t===r)return;const s=Array.isArray(t);if(n!==$&&(!A(t)||!A(r)||s!==Array.isArray(r)||o&&t[o]!==r[o])){w(e,n,t);return}if(s){if(t.length&&r.length&&(!i||o&&t[0]&&t[0][o]!=null)){let a,l,u,d,h,g,N,b;for(u=0,d=Math.min(r.length,t.length);u<d&&(r[u]===t[u]||o&&r[u]&&t[u]&&r[u][o]===t[u][o]);u++)E(t[u],r,u,i,o);const I=new Array(t.length),M=new Map;for(d=r.length-1,h=t.length-1;d>=u&&h>=u&&(r[d]===t[h]||o&&r[u]&&t[u]&&r[d][o]===t[h][o]);d--,h--)I[h]=r[d];if(u>h||u>d){for(l=u;l<=h;l++)w(r,l,t[l]);for(;l<t.length;l++)w(r,l,I[l]),E(t[l],r,l,i,o);r.length>t.length&&w(r,"length",t.length);return}for(N=new Array(h+1),l=h;l>=u;l--)g=t[l],b=o&&g?g[o]:g,a=M.get(b),N[l]=a===void 0?-1:a,M.set(b,l);for(a=u;a<=d;a++)g=r[a],b=o&&g?g[o]:g,l=M.get(b),l!==void 0&&l!==-1&&(I[l]=r[a],l=N[l],M.set(b,l));for(l=u;l<t.length;l++)l in I?(w(r,l,I[l]),E(t[l],r,l,i,o)):w(r,l,t[l])}else for(let a=0,l=t.length;a<l;a++)E(t[a],r,a,i,o);r.length>t.length&&w(r,"length",t.length);return}const f=Object.keys(t);for(let a=0,l=f.length;a<l;a++)E(t[f[a]],r,f[a],i,o);const c=Object.keys(r);for(let a=0,l=c.length;a<l;a++)t[c[a]]===void 0&&w(r,c[a],void 0)}function de(t,e={}){const{merge:n,key:i="id"}=e,o=S(t);return r=>{if(!A(r)||!A(o))return o;const s=E(o,{[$]:r},$,n,i);return s===void 0?r:s}}function he(t,e,n=-1){return n in t?[...t.slice(0,n),e,...t.slice(n)]:[...t,e]}function ge(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function be(t){return typeof t=="number"}function Et(t){return Object.prototype.toString.call(t)==="[object String]"}function Pt(t){return typeof t=="function"}function we(t){return e=>`${t()}-${e}`}function Ne(t,e){return t?t===e||t.contains(e):!1}function It(t,e=!1){const{activeElement:n}=B(t);if(!(n!=null&&n.nodeName))return null;if(ft(n)&&n.contentDocument)return It(n.contentDocument.body,e);if(e){const i=n.getAttribute("aria-activedescendant");if(i){const o=B(n).getElementById(i);if(o)return o}}return n}function me(t){return B(t).defaultView||window}function B(t){return t?t.ownerDocument||t:document}function ft(t){return t.tagName==="IFRAME"}var Tt=(t=>(t.Escape="Escape",t.Enter="Enter",t.Tab="Tab",t.Space=" ",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.ArrowUp="ArrowUp",t.End="End",t.Home="Home",t.PageDown="PageDown",t.PageUp="PageUp",t))(Tt||{});function at(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)==null?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function C(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)==null?void 0:e.platform)||window.navigator.platform):!1}function Y(){return C(/^Mac/i)}function Ot(){return C(/^iPhone/i)}function Lt(){return C(/^iPad/i)||Y()&&navigator.maxTouchPoints>1}function Rt(){return Ot()||Lt()}function pe(){return Y()||Rt()}function ye(){return at(/AppleWebKit/i)&&!_t()}function _t(){return at(/Chrome/i)}function Mt(t,e){return e&&(Pt(e)?e(t):e[0](e[1],t)),t==null?void 0:t.defaultPrevented}function xe(t){return e=>{for(const n of t)Mt(e,n)}}function Ae(t){return Y()?t.metaKey&&!t.ctrlKey:t.ctrlKey&&!t.metaKey}function Se(t){if(t)if(Dt())t.focus({preventScroll:!0});else{const e=vt(t);t.focus(),jt(e)}}var D=null;function Dt(){if(D==null){D=!1;try{document.createElement("div").focus({get preventScroll(){return D=!0,!0}})}catch{}}return D}function vt(t){let e=t.parentNode;const n=[],i=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==i;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&n.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return i instanceof HTMLElement&&n.push({element:i,scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}),n}function jt(t){for(const{element:e,scrollTop:n,scrollLeft:i}of t)e.scrollTop=n,e.scrollLeft=i}var ut=["input:not([type='hidden']):not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","[tabindex]","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]:not([contenteditable='false'])"],Ft=[...ut,'[tabindex]:not([tabindex="-1"]):not([disabled])'],G=`${ut.join(":not([hidden]),")},[tabindex]:not([disabled]):not([hidden])`,Ht=Ft.join(':not([hidden]):not([tabindex="-1"]),');function Wt(t,e){const i=Array.from(t.querySelectorAll(G)).filter(z);return e&&z(t)&&i.unshift(t),i.forEach((o,r)=>{if(ft(o)&&o.contentDocument){const s=o.contentDocument.body,f=Wt(s,!1);i.splice(r,1,...f)}}),i}function z(t){return $t(t)&&!Bt(t)}function $t(t){return t.matches(G)&&X(t)}function Bt(t){return Number.parseInt(t.getAttribute("tabindex")||"0",10)<0}function X(t,e){return t.nodeName!=="#comment"&&Ut(t)&&Vt(t,e)&&(!t.parentElement||X(t.parentElement,t))}function Ut(t){if(!(t instanceof HTMLElement)&&!(t instanceof SVGElement))return!1;const{display:e,visibility:n}=t.style;let i=e!=="none"&&n!=="hidden"&&n!=="collapse";if(i){if(!t.ownerDocument.defaultView)return i;const{getComputedStyle:o}=t.ownerDocument.defaultView,{display:r,visibility:s}=o(t);i=r!=="none"&&s!=="hidden"&&s!=="collapse"}return i}function Vt(t,e){return!t.hasAttribute("hidden")&&(t.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?t.hasAttribute("open"):!0)}function Ee(t,e,n){const i=e!=null&&e.tabbable?Ht:G,o=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode(r){var s;return(s=e==null?void 0:e.from)!=null&&s.contains(r)?NodeFilter.FILTER_REJECT:r.matches(i)&&X(r)&&!n&&(!(e!=null&&e.accept)||e.accept(r))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(o.currentNode=e.from),o}function k(t){let e=t;for(;e&&!Ct(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}function Ct(t){const e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function Pe(){}function Ie(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(Math.max(t,e),n)}function Te(t,e,n,i){const o=(t-(Number.isNaN(e)?0:e))%i;let r=Math.abs(o)*2>=i?t+Math.sign(o)*(i-Math.abs(o)):t-o;Number.isNaN(e)?!Number.isNaN(n)&&r>n&&(r=Math.floor(n/i)*i):r<e?r=e:!Number.isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/i)*i);const s=i.toString(),f=s.indexOf("."),c=f>=0?s.length-f:0;if(c>0){const a=10**c;r=Math.round(r*a)/a}return r}function Oe(t){return[t.clientX,t.clientY]}function Le(t,e){const[n,i]=t;let o=!1;const r=e.length;for(let s=r,f=0,c=s-1;f<s;c=f++){const[a,l]=e[f],[u,d]=e[c],[,h]=e[c===0?s-1:c-1]||[0,0],g=(l-d)*(n-a)-(a-u)*(i-l);if(d<l){if(i>=d&&i<l){if(g===0)return!0;g>0&&(i===d?i>h&&(o=!o):o=!o)}}else if(l<d){if(i>l&&i<=d){if(g===0)return!0;g<0&&(i===d?i<h&&(o=!o):o=!o)}}else if(i===l&&(n>=u&&n<=a||n>=a&&n<=u))return!0}return o}function Yt(t,e){return V(t,e)}var T=new Map,K=new Set;function q(){if(typeof window>"u")return;const t=n=>{if(!n.target)return;let i=T.get(n.target);i||(i=new Set,T.set(n.target,i),n.target.addEventListener("transitioncancel",e)),i.add(n.propertyName)},e=n=>{if(!n.target)return;const i=T.get(n.target);if(i&&(i.delete(n.propertyName),i.size===0&&(n.target.removeEventListener("transitioncancel",e),T.delete(n.target)),T.size===0)){for(const o of K)o();K.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",e)}typeof document<"u"&&(document.readyState!=="loading"?q():document.addEventListener("DOMContentLoaded",q));function Gt(t,e){const n=Z(t,e,"left"),i=Z(t,e,"top"),o=e.offsetWidth,r=e.offsetHeight;let s=t.scrollLeft,f=t.scrollTop;const c=s+t.offsetWidth,a=f+t.offsetHeight;n<=s?s=n:n+o>c&&(s+=n+o-c),i<=f?f=i:i+r>a&&(f+=i+r-a),t.scrollLeft=s,t.scrollTop=f}function Z(t,e,n){const i=n==="left"?"offsetLeft":"offsetTop";let o=0;for(;e.offsetParent&&(o+=e[i],e.offsetParent!==t);){if(e.offsetParent.contains(t)){o-=t[i];break}e=e.offsetParent}return o}function Re(t,e){var n,i;if(document.contains(t)){const o=document.scrollingElement||document.documentElement;if(window.getComputedStyle(o).overflow==="hidden"){let s=k(t);for(;t&&s&&t!==o&&s!==o;)Gt(s,t),t=s,s=k(t)}else{const{left:s,top:f}=t.getBoundingClientRect();(n=t==null?void 0:t.scrollIntoView)==null||n.call(t,{block:"nearest"});const{left:c,top:a}=t.getBoundingClientRect();(Math.abs(s-c)>1||Math.abs(f-a)>1)&&((i=t.scrollIntoView)==null||i.call(t,{block:"nearest"}))}}}var _e={border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:"0",position:"absolute",width:"1px","white-space":"nowrap"};function Xt(t,e){const[n,i]=R(Q(e==null?void 0:e()));return bt(()=>{var o;i(((o=t())==null?void 0:o.tagName.toLowerCase())||Q(e==null?void 0:e()))}),n}function Q(t){return Et(t)?t:void 0}function zt(t){const[e,n]=it(t,["as"]);if(!e.as)throw new Error("[kobalte]: Polymorphic is missing the required `as` prop.");return ot(wt,V(n,{get component(){return e.as}}))}var kt=Object.defineProperty,Kt=(t,e)=>{for(var n in e)kt(t,n,{get:e[n],enumerable:!0})},qt={};Kt(qt,{Button:()=>Jt,Root:()=>dt});var Zt=["button","color","file","image","reset","submit"];function Qt(t){const e=t.tagName.toLowerCase();return e==="button"?!0:e==="input"&&t.type?Zt.indexOf(t.type)!==-1:!1}function dt(t){let e;const n=Yt({type:"button"},t),[i,o]=it(n,["ref","type","disabled"]),r=Xt(()=>e,()=>"button"),s=y(()=>{const a=r();return a==null?!1:Qt({tagName:a,type:i.type})}),f=y(()=>r()==="input"),c=y(()=>r()==="a"&&(e==null?void 0:e.getAttribute("href"))!=null);return ot(zt,V({as:"button",ref(a){var l=Nt(u=>e=u,i.ref);typeof l=="function"&&l(a)},get type(){return s()||f()?i.type:void 0},get role(){return!s()&&!c()?"button":void 0},get tabIndex(){return!s()&&!c()&&!i.disabled?0:void 0},get disabled(){return s()||f()?i.disabled:void 0},get"aria-disabled"(){return!s()&&!f()&&i.disabled?!0:void 0},get"data-disabled"(){return i.disabled?"":void 0}},o))}var Jt=dt,ht=(t=>(t[t.Highlight=0]="Highlight",t[t.Path=1]="Path",t[t.Text=2]="Text",t[t.Comment=3]="Comment",t[t.Rectangle=4]="Rectangle",t[t.Sticker=5]="Sticker",t))(ht||{}),m=(t=>(t[t.Top=1]="Top",t[t.Bottom=2]="Bottom",t[t.Left=4]="Left",t[t.Right=8]="Right",t))(m||{}),te=(t=>(t[t.None=0]="None",t[t.Pressing=1]="Pressing",t[t.SelectionNet=2]="SelectionNet",t[t.Translating=3]="Translating",t[t.Inserting=4]="Inserting",t[t.Resizing=5]="Resizing",t[t.Pencil=6]="Pencil",t[t.Hightlight=7]="Hightlight",t[t.Eraser=8]="Eraser",t))(te||{});const Me=500,De={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},ve={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},je={DISABLE:0,ENABLE:1},J={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},tt={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function Fe({view:t,userUnit:e,rotate:n}){const[i,o,r,s]=t,f=n%180!==0,c=(r-i)/72*e,a=(s-o)/72*e;return{width:f?a:c,height:f?c:a}}function ee(t){let e=Math.hypot(t.deltaX,t.deltaY);const n=Math.atan2(t.deltaY,t.deltaX);return-.25*Math.PI<n&&n<.75*Math.PI&&(e=-e),e}function He(t){const e=t.deltaMode;let n=ee(t);const i=30,o=30;return e===WheelEvent.DOM_DELTA_PIXEL?n/=i*o:e===WheelEvent.DOM_DELTA_LINE&&(n/=o),n}function We(t){return Number.isInteger(t)&&t%90===0}function $e(t){return Number.isInteger(t)&&Object.values(J).includes(t)&&t!==J.UNKNOWN}function Be(t){return Number.isInteger(t)&&Object.values(tt).includes(t)&&t!==tt.UNKNOWN}function Ue(t){return t.width<=t.height}new Promise(function(t){window.requestAnimationFrame(t)});document.documentElement.style;const ne=/[xy]/g,ie="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",Ve=9;function oe(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)}function Ce(){return ie.replace(ne,oe)}function Ye(t){return t&&t.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>")}function Ge(t,e){return{x:Math.round(t.clientX-e.x),y:Math.round(t.clientY-e.y)}}function Xe(t){return`#${t.r.toString(16).padStart(2,"0")}${t.g.toString(16).padStart(2,"0")}${t.b.toString(16).padStart(2,"0")}${Math.floor((t.a||1)*255).toString(16).padStart(2,"0")}`}function ze(t,e=1){const n={x:-1,y:-1,height:0,width:0},i=[];try{const o=window.getSelection();if(o){let s=o.getRangeAt(0).getClientRects();s.length>0&&s[0].width>0&&s[0].height>0&&Object.values(s).forEach(f=>{const c={x:f.left-t.x,y:f.top-t.y,width:f.width,height:f.height};c.width>0&&c.height>0&&c.x>-1&&c.y>-1&&((n.x===-1||n.y===-1)&&(n.x=c.x,n.y=c.y),n.x=Math.min(n.x,c.x),n.y=Math.min(n.y,c.y),c.width+c.x>n.width+n.x&&(n.width=c.width+c.x-n.x),c.height+c.y>n.y+n.height&&(n.height=c.height+c.y-n.y),i.push(c))})}}catch{}return{listRects:i,bounds:n}}function re(t,e){return t+` {
`+se(e)+`
}`}function se(t){return Object.keys(t).map(function(e){return ce(e,t[e])}).join(`
`)}function ce(t,e){return!isNaN(e)&&e!=0&&(e=e+"px"),le(t)+": "+e+";"}function le(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}function fe(t){var e=document.createElement("style"),n=Object.keys(t).map(function(i){return re(i,t[i])}).join(`
`);return e.setAttribute("type","text/css"),e.appendChild(document.createTextNode(n)),e}fe({body:{"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}});function ke(t,e,n){const i={x:t.x,y:t.y,width:t.width,height:t.height};return(e&m.Left)===m.Left&&(i.x=Math.min(n.x,t.x+t.width),i.width=Math.abs(t.x+t.width-n.x)),(e&m.Right)===m.Right&&(i.x=Math.min(n.x,t.x),i.width=Math.abs(n.x-t.x)),(e&m.Top)===m.Top&&(i.y=Math.min(n.y,t.y+t.height),i.height=Math.abs(t.y+t.height-n.y)),(e&m.Bottom)===m.Bottom&&(i.y=Math.min(n.y,t.y),i.height=Math.abs(n.y-t.y)),i}function Ke(t,e){if(t.length<2)throw new Error("Cannot transform points with less than 2 points");let n=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY;for(const s of t){const[f,c]=s;n>f&&(n=f),i>c&&(i=c),o<f&&(o=f),r<c&&(r=c)}return{type:ht.Path,x:n,y:i,width:o-n,height:r-i,fill:e,points:t.map(([s,f,c])=>[s-n,f-i,c])}}function qe(t){if(!t.length)return"";const e=t.reduce((n,[i,o],r,s)=>{const[f,c]=s[(r+1)%s.length];return n.push(i,o,(i+f)/2,(o+c)/2),n},["M",...t[0],"Q"]);return e.push("Z"),e.join(" ")}function Ze(t,e){let n=!1;const i=100,o=Array.isArray(t)?t.map(l=>y(l)):[t],r=mt(()=>n=!1),s=y(l=>{const u=[];for(const N of o){const b=N();b&&u.push(b)}if(n||!u.length)return n=!1,l;const d=v(l.count[0]),h=l.list.length-d,g=l.list.slice(Math.max(0,h-i),h);return g.push(u),{count:d?R(0):l.count,list:g}},{list:[],count:R(0)}),f=y(()=>{const l=s();return l.list.length-l.count[0]()>1}),c=y(()=>s().count[0]()>0),a=l=>{n=!0,r();const u=s(),d=u.count[1](b=>b+l),h=u.list.length-d-1,g=u.list[h+l],N=u.list[h];for(let b=0;b<N.length;b++)N[b]!==g[b]&&N[b]()};return{canUndo:f,canRedo:c,undo(){v(()=>f()&&H(()=>a(1)))},redo(){v(()=>c()&&H(()=>a(-1)))}}}var et={equals:!1},nt=new WeakMap,U=0;function gt(t){let e=nt.get(t);return e||pt(()=>{const n=S(t);let i=!1,o=!0,r=0;const[s,f]=R(void 0,et),c=y(()=>{var a;if(i){t[L];for(const[l,u]of Object.entries(n)){let d;u!=null&&typeof u=="object"&&((d=u[x])||L in(d=v(()=>t[l])))&&((a=gt(d))==null||a())}}else s(),o=!0},void 0,et);e=()=>{i=!0,o&&(f(),o=!1);const a=r===U;r=U,a||c(),i=!1},nt.set(t,e)}),e}function Qe(t){var e;return U++,L in t&&((e=gt(t))==null||e()),t}export{Re as $,we as A,Ve as B,te as C,zt as D,Ne as E,Le as F,Oe as G,Mt as H,xe as I,ye as J,Se as K,ht as L,Me as M,Ee as N,Xt as O,ve as P,_e as Q,De as R,tt as S,je as T,Y as U,Pt as V,pe as W,Tt as X,Te as Y,Ie as Z,Kt as _,J as a,ge as a0,he as a1,Et as a2,be as a3,Gt as a4,It as a5,$t as a6,Wt as a7,Pe as a8,Ae as a9,Be as b,$e as c,We as d,ue as e,Ze as f,Fe as g,qe as h,Ue as i,Xe as j,ze as k,Ce as l,Ke as m,He as n,Jt as o,Ge as p,de as q,ke as r,Ye as s,Qe as t,S as u,m as v,dt as w,Yt as x,B as y,me as z};
