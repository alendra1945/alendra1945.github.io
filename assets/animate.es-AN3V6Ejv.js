import{q as p,v as A,w,x as m,g as f,r as y,y as E,z as x,A as l}from"./index-SZd1a1yJ.js";const F=n=>n(),d=(n,a,i=p.duration)=>new Proxy({animations:n.map(F).filter(Boolean),duration:i,options:a},P),O=n=>n.animations[0],P={get:(n,a)=>{const i=O(n);switch(a){case"duration":return n.duration;case"currentTime":return m.s((i==null?void 0:i[a])||0);case"playbackRate":case"playState":return i==null?void 0:i[a];case"finished":return n.finished||(n.finished=Promise.all(n.animations.map(b)).catch(w)),n.finished;case"stop":return()=>{n.animations.forEach(t=>A(t))};case"forEachNative":return t=>{n.animations.forEach(o=>t(o,n))};default:return typeof(i==null?void 0:i[a])>"u"?void 0:()=>n.animations.forEach(t=>t[a]())}},set:(n,a,i)=>{switch(a){case"currentTime":i=m.ms(i);case"playbackRate":for(let t=0;t<n.animations.length;t++)n.animations[t][a]=i;return!0}return!1}},b=n=>n.finished;function R(n,a,i){return f(n)?n(a,i):n}function S(n){return function(i,t,o={}){i=y(i);const c=i.length,u=[];for(let e=0;e<c;e++){const h=i[e];for(const s in t){const r=E(o,s);r.delay=R(r.delay,e,c);const v=x(h,s,t[s],r,n);u.push(v)}}return d(u,o,o.duration)}}const T=S(l);function q(n,a={}){return d([()=>{const i=new l(n,[0,1],a);return i.finished.catch(()=>{}),i}],a,a.duration)}function B(n,a,i){return(f(n)?q:T)(n,a,i)}export{B as a};
